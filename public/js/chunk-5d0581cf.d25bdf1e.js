(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d0581cf"],{"159b":function(t,e,n){var i=n("da84"),s=n("fdbc"),r=n("17c2"),o=n("9112");for(var c in s){var a=i[c],l=a&&a.prototype;if(l&&l.forEach!==r)try{o(l,"forEach",r)}catch(u){l.forEach=r}}},"17c2":function(t,e,n){"use strict";var i=n("b727").forEach,s=n("a640"),r=n("ae40"),o=s("forEach"),c=r("forEach");t.exports=o&&c?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},"1c82":function(t,e,n){"use strict";var i=n("9001"),s=n.n(i);s.a},"1dde":function(t,e,n){var i=n("d039"),s=n("b622"),r=n("2d00"),o=s("species");t.exports=function(t){return r>=51||!i((function(){var e=[],n=e.constructor={};return n[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},4160:function(t,e,n){"use strict";var i=n("23e7"),s=n("17c2");i({target:"Array",proto:!0,forced:[].forEach!=s},{forEach:s})},"4de4":function(t,e,n){"use strict";var i=n("23e7"),s=n("b727").filter,r=n("1dde"),o=n("ae40"),c=r("filter"),a=o("filter");i({target:"Array",proto:!0,forced:!c||!a},{filter:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},"65f0":function(t,e,n){var i=n("861d"),s=n("e8b5"),r=n("b622"),o=r("species");t.exports=function(t,e){var n;return s(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!s(n.prototype)?i(n)&&(n=n[o],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},"8f8d":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"base"},[n("div",{staticClass:"titles"},[n("div",{staticClass:"title name"},[t._v("Forename")]),n("div",{staticClass:"title name"},[t._v("Surname")]),n("div",{staticClass:"title address"},[t._v("Address")]),n("div",{staticClass:"title pc"},[t._v("Postcode")]),t.TooSmall?n("div",{staticClass:"title tag-group"},[t._v("Comments")]):t._e(),t.TooSmall?n("div",{staticClass:"title tag-group"},[t._v("Dietary Requirements")]):t._e()]),n("searchBar",{attrs:{"place-holder-text":"Search for clients..."},on:{"search-value":t.FilterHandler}}),n("div",{staticClass:"info"},[t._l(t.clients,(function(e,i){return n("div",{key:e._id,staticClass:"row",class:{selected:t.isSelected(i)},on:{click:function(e){return t.selectClient(i)}}},[n("p",{staticClass:" name"},[t._v(t._s(e.forename))]),n("p",{staticClass:" name"},[t._v(t._s(e.surname))]),n("p",{staticClass:" address"},[t._v(t._s(e.address))]),n("p",{staticClass:" address"},[t._v(t._s(e.postcode))]),t.TooSmall?n("div",{staticClass:" tag-group"},t._l(e.comments,(function(e,i){return n("p",{key:i,staticClass:"tag"},[t._v(" "+t._s(e)+" ")])})),0):t._e(),t.TooSmall?n("div",{staticClass:" tag-group"},t._l(e.dietaryRequirements,(function(e,i){return n("p",{key:i+100,staticClass:"tag"},[t._v(" "+t._s(e)+" ")])})),0):t._e()])})),t.noclients?n("div",{staticClass:"no-clients"},[n("p",[t._v("No Clients")])]):t._e()],2)],1)},s=[],r=(n("4de4"),n("4160"),n("d3b7"),n("159b"),n("b012")),o={name:"ClientViewPort",components:{searchBar:function(){return n.e("chunk-5061a671").then(n.bind(null,"e287"))}},props:{currentClient:{type:Object,required:!0}},data:function(){return{clients:[],startIndex:0,selected:-1,windowWidth:window.innerWidth,filter:"",showLoadMore:!0}},computed:{TooSmall:function(){return this.windowWidth>900},noclients:function(){return this.clients<1}},methods:{getClients:function(){var t=this;this.$http.get("/clients").then((function(e){e.data.forEach((function(e){t.$http.get("/clients/".concat(e._id)).then((function(e){t.clients.push(e.data)}))}))})).catch((function(e){t.$toast.open({message:e,type:"error",position:"top"})}))},isSelected:function(t){return t==this.selected&&this.currentClient.id==this.clients[this.selected].id},selectClient:function(t){this.selected==t?this.selected=-1:this.selected=t,-1==this.selected?this.$emit("current-client",{}):this.$emit("current-client",this.clients[t])},WindowEventListener:function(t){this.windowWidth=t.currentTarget.innerWidth},FilterHandler:function(t){this.filter=t,this.filterClients()},filterClients:Object(r["debounce"])((function(){this.clients=[],""!=this.filter?this.getFilterClients():this.getClients()}),500),getFilterClients:function(){var t=this;this.startIndex=0,this.showLoadMore=!1,this.$http.get("clients?filter=".concat(this.filter.toLowerCase())).then((function(e){t.clients=e.data})).catch((function(e){t.$toast.open({message:e,type:"error",position:"top"})}))},refresh:function(){this.startIndex=0,this.clients=[],this.showLoadMore=!1,""!=this.filter?this.filterClients():this.getClients()}},mounted:function(){this.getClients()},created:function(){window.addEventListener("resize",this.WindowEventListener)},destroyed:function(){window.removeEventListener("resize",this.WindowEventListener)}},c=o,a=(n("1c82"),n("2877")),l=Object(a["a"])(c,i,s,!1,null,"e53d712e",null);e["default"]=l.exports},9001:function(t,e,n){},a640:function(t,e,n){"use strict";var i=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&i((function(){n.call(null,e||function(){throw 1},1)}))}},ae40:function(t,e,n){var i=n("83ab"),s=n("d039"),r=n("5135"),o=Object.defineProperty,c={},a=function(t){throw t};t.exports=function(t,e){if(r(c,t))return c[t];e||(e={});var n=[][t],l=!!r(e,"ACCESSORS")&&e.ACCESSORS,u=r(e,0)?e[0]:a,f=r(e,1)?e[1]:void 0;return c[t]=!!n&&!s((function(){if(l&&!i)return!0;var t={length:-1};l?o(t,1,{enumerable:!0,get:a}):t[1]=1,n.call(t,u,f)}))}},b012:function(t,e){function n(t,e,n){var i,s,r,o,c;function a(){var l=Date.now()-o;l<e&&l>=0?i=setTimeout(a,e-l):(i=null,n||(c=t.apply(r,s),r=s=null))}null==e&&(e=100);var l=function(){r=this,s=arguments,o=Date.now();var l=n&&!i;return i||(i=setTimeout(a,e)),l&&(c=t.apply(r,s),r=s=null),c};return l.clear=function(){i&&(clearTimeout(i),i=null)},l.flush=function(){i&&(c=t.apply(r,s),r=s=null,clearTimeout(i),i=null)},l}n.debounce=n,t.exports=n},b727:function(t,e,n){var i=n("0366"),s=n("44ad"),r=n("7b0b"),o=n("50c4"),c=n("65f0"),a=[].push,l=function(t){var e=1==t,n=2==t,l=3==t,u=4==t,f=6==t,d=5==t||f;return function(h,v,p,C){for(var m,L,g=r(h),S=s(g),w=i(v,p,3),_=o(S.length),b=0,y=C||c,T=e?y(h,_):n?y(h,0):void 0;_>b;b++)if((d||b in S)&&(m=S[b],L=w(m,b,g),t))if(e)T[b]=L;else if(L)switch(t){case 3:return!0;case 5:return m;case 6:return b;case 2:a.call(T,m)}else if(u)return!1;return f?-1:l||u?u:T}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},e8b5:function(t,e,n){var i=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==i(t)}},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-5d0581cf.d25bdf1e.js.map