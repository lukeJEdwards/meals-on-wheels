{"version":3,"sources":["webpack:///./src/components/add-client-week.vue?bd34","webpack:///./src/components/add-client-week.vue?d53c","webpack:///src/components/add-client-week.vue","webpack:///./src/components/add-client-week.vue?ffa6","webpack:///./src/components/add-client-week.vue","webpack:///./node_modules/debounce/index.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","close","closed","attrs","on","$event","_v","FilterHandler","_e","_l","client","i","key","_s","forename","surname","Added","getButtonIcon","getButtonType","nativeOn","AddClient","staticRenderFns","name","components","Searchbar","ButtonIcon","computed","noSearch","filter","noArray","clients","Array","props","addedClients","data","noResults","watch","methods","value","getClients","$http","index","setTimeout","$emit","mounted","component","debounce","func","wait","immediate","timeout","args","context","timestamp","result","later","last","Date","now","apply","debounced","arguments","callNow","clear","clearTimeout","flush","module","exports"],"mappings":"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","file":"js/chunk-63681fe9.4dd269bf.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add-client-week.vue?vue&type=style&index=0&id=b1297c42&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add-client-week.vue?vue&type=style&index=0&id=b1297c42&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"base\",class:{ close: _vm.closed }},[_c('div',{staticClass:\"title\"},[_c('fa-icon',{staticClass:\"icon\",attrs:{\"icon\":['fas', 'times']},on:{\"click\":function($event){return _vm.close()}}}),_vm._v(\" Add client \")],1),_c('Searchbar',{on:{\"search-value\":_vm.FilterHandler}}),_c('div',{staticClass:\"results\"},[(_vm.noResults)?_c('div',{staticClass:\"no-results\"},[_c('p',[_vm._v(\"no clients found\")])]):_vm._e(),(_vm.noSearch)?_c('div',{staticClass:\"no-results\"},[_c('p',[_vm._v(\"please search for a client\")])]):_vm._e(),(_vm.noArray)?_c('div',_vm._l((_vm.clients),function(client,i){return _c('div',{key:i,staticClass:\"client\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(client.forename))]),_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(client.surname))]),_c('ButtonIcon',{class:{ Added: _vm.Added(i) },attrs:{\"icon\":_vm.getButtonIcon(i),\"pulse-on-hover\":\"\",\"type\":_vm.getButtonType(i)},nativeOn:{\"click\":function($event){return _vm.AddClient(i)}}},[_vm._v(_vm._s(_vm.Added(i) ? 'Added' : 'Add'))])],1)}),0):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"base\" :class=\"{ close: closed }\">\r\n    <div class=\"title\">\r\n      <fa-icon :icon=\"['fas', 'times']\" class=\"icon\" @click=\"close()\" />\r\n      Add client\r\n    </div>\r\n    <Searchbar @search-value=\"FilterHandler\" />\r\n    <div class=\"results\">\r\n      <div class=\"no-results\" v-if=\"noResults\">\r\n        <p>no clients found</p>\r\n      </div>\r\n      <div class=\"no-results\" v-if=\"noSearch\">\r\n        <p>please search for a client</p>\r\n      </div>\r\n      <div v-if=\"noArray\">\r\n        <div class=\"client\" v-for=\"(client, i) in clients\" :key=\"i\">\r\n          <div class=\"name\">{{ client.forename }}</div>\r\n          <div class=\"name\">{{ client.surname }}</div>\r\n          <ButtonIcon\r\n            :icon=\"getButtonIcon(i)\"\r\n            pulse-on-hover\r\n            :type=\"getButtonType(i)\"\r\n            :class=\"{ Added: Added(i) }\"\r\n            @click.native=\"AddClient(i)\"\r\n            >{{ Added(i) ? 'Added' : 'Add' }}</ButtonIcon\r\n          >\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { debounce } from 'debounce';\r\nexport default {\r\n  name: 'AddForm',\r\n  components: {\r\n    Searchbar: () => import('../components/search-bar'),\r\n    ButtonIcon: () => import('../components/button-&-Icon')\r\n  },\r\n  computed: {\r\n    noSearch() {\r\n      return this.filter == '';\r\n    },\r\n    noArray() {\r\n      return this.clients instanceof Array;\r\n    }\r\n  },\r\n  props: {\r\n    addedClients: { type: Array, required: false, default: () => [] }\r\n  },\r\n  data() {\r\n    return {\r\n      clients: [],\r\n      filter: '',\r\n      noResults: false,\r\n      closed: true\r\n    };\r\n  },\r\n  watch: {\r\n    filter: function() {\r\n      this.filter == '' ? (this.clients = []) : this.getClients();\r\n    }\r\n  },\r\n  methods: {\r\n    FilterHandler(value) {\r\n      this.filter = value;\r\n    },\r\n    getClients: debounce(function() {\r\n      this.$http\r\n        .get(`clients?filter=${this.filter.toLowerCase()}`)\r\n        .then(Response => {\r\n          this.clients = Response.data;\r\n          this.clients.length < 1\r\n            ? (this.noResults = true)\r\n            : (this.noResults = false);\r\n        })\r\n        .catch(e => {\r\n          this.$toast.open({ message: e, type: 'error', position: 'top' });\r\n        });\r\n    }, 500),\r\n    Added(index) {\r\n      return (\r\n        this.addedClients.filter(\r\n          client => client._id == this.clients[index]._id\r\n        ).length > 0\r\n      );\r\n    },\r\n    getButtonType(index) {\r\n      return this.Added(index) ? 'default' : 'add';\r\n    },\r\n    getButtonIcon(index) {\r\n      return this.Added(index) ? 'check-circle' : 'plus';\r\n    },\r\n    close() {\r\n      this.closed = true;\r\n      setTimeout(() => {\r\n        this.$store.commit('formStatus', { active: false, type: '' });\r\n      }, 750);\r\n    },\r\n    AddClient(index) {\r\n      this.$emit('add-client', this.clients[index]);\r\n    }\r\n  },\r\n  mounted() {\r\n    setTimeout(() => {\r\n      this.closed = false;\r\n    }, 10);\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~styles/colours';\r\n@import '~styles/mixins';\r\n.base {\r\n  @include transition;\r\n  position: absolute;\r\n  display: flex;\r\n  flex-direction: column;\r\n  color: $text;\r\n  background-color: lighten($primary, 10);\r\n  width: 27vw;\r\n  height: 27vw;\r\n  min-width: 450px;\r\n  min-height: 450px;\r\n  margin-top: calc(40vh - 13.5vw);\r\n  margin-left: 36.5vw;\r\n  border-radius: 6px;\r\n  font-size: 1.5rem;\r\n  overflow: hidden;\r\n}\r\n.title {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 1rem 0;\r\n}\r\n.icon {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  margin: 1rem;\r\n  &:hover {\r\n    cursor: pointer;\r\n    color: darken($text, 10);\r\n  }\r\n}\r\n.results {\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-shrink: 0;\r\n  flex-grow: 1;\r\n  overflow-y: auto;\r\n  height: 10px;\r\n}\r\n.client {\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  grid-template-rows: 1fr;\r\n  margin: 1rem 0.5rem;\r\n  div {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n}\r\n.no-results {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin: auto 0;\r\n  align-items: center;\r\n}\r\n.Added {\r\n  pointer-events: none;\r\n}\r\n.close {\r\n  @include transform(translateY(-100vh));\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add-client-week.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add-client-week.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./add-client-week.vue?vue&type=template&id=b1297c42&scoped=true&\"\nimport script from \"./add-client-week.vue?vue&type=script&lang=js&\"\nexport * from \"./add-client-week.vue?vue&type=script&lang=js&\"\nimport style0 from \"./add-client-week.vue?vue&type=style&index=0&id=b1297c42&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b1297c42\",\n  null\n  \n)\n\nexport default component.exports","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n"],"sourceRoot":""}